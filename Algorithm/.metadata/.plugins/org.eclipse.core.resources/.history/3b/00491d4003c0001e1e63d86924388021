/*
 * Author : 문범수
 * Date : 2024-01-31
 * subject : 순회탐색
 * name : Solution2.java
 * duration : m
 * CodeNo : 1954
 */

package homework;

import java.io.BufferedReader;
import java.io.InputStreamReader;

public class Solution2 {
	public static void main(String[] args) throws Exception {

		BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));
		int total = Integer.parseInt(reader.readLine());

		int x = 1;

		while (x <= total) {
			int size = Integer.parseInt(reader.readLine());
			
			// 전체 배열 생성
			int[][] arr = new int[size][size];
			cycle(arr);
			printArr(arr, x);
			x++;
		}
	}
	
	// cycle을 도는 함수 설정
	// 총 4번을 돌도록 설정
	// 짝수일 때 홀수일 때 고려(?)
	public static void cycle(int[][] arr) {
		// 우, 하, 좌, 상 방향 설정
		int[] dir1 = { 1, 1, -1, -1 };
		
		// 입력값 설정
		int count = 1;
		int times = 0;
		
		// 시작 위치 설정
		int start_row = 0;
		int start_col = 0;
		
		// 한번의 cycle 구현
		while(times < 4) {
			for(int i = start_col; i < arr.length && arr[start_row][start_col] == 0; i++) {
				arr[start_row][i] = count++;
				start_col = i;
			}
			
			
		}
	}
	
	public static void printArr(int[][] arr, int x) {
		System.out.println("#" + x);
		for(int i = 0; i < arr.length; i++) {
			for (int j = 0; j < arr[0].length; j++) {
				System.out.print(arr[i][j]);
			}
			System.out.println();
		}
	}
}
